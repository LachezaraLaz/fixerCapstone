name: Release Notes

on:
  release:
    types:
      - created
      - published

jobs:
  generate-release-notes:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '16'  # Or your preferred Node.js version

    - name: Install release drafter
      run: |
        npm install -g release-drafter

    - name: Generate release notes using Release Drafter
      run: |
        release-drafter --token ${{ secrets.GITHUB_TOKEN }} --output-file RELEASE_NOTES.md
        cat RELEASE_NOTES.md

    - name: Upload release notes as artifact
      uses: actions/upload-artifact@v3
      with:
        name: release-notes
        path: RELEASE_NOTES.md
